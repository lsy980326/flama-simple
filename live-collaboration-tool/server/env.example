# 환경 변수 설정

# 서버 포트
PORT=5000

# Y.js WebSocket 포트
YJS_WS_PORT=5001

# 클라이언트 URL (CORS 설정용)
CLIENT_URL=http://localhost:3000

# STUN/TURN 서버 설정 (WebRTC용)
STUN_SERVER=stun:stun.l.google.com:19302
TURN_SERVER=
TURN_USERNAME=
TURN_PASSWORD=

# 데이터베이스 설정 (필요시)
DATABASE_URL=

# JWT 시크릿 (필요시)
JWT_SECRET=your-secret-key-here

############################################
# SketchUp Converter (Local dev - macOS)
############################################

# 스케치업 모듈 on/off
SKETCHUP_ENABLED=true

# 변환 결과(GLB) 저장 경로
SKETCHUP_OUTPUT_DIR=./uploads/converted
SKETCHUP_MAX_FILE_SIZE=104857600

# Assimp CLI 경로 (설치되어 있으면 보통 "assimp")
ASSIMP_PATH=assimp

# 변환 엔진 선택
# - assimp (기본): SketchUp(Ruby)로 .dae export 후 Assimp로 .glb 변환
# - sdk: SketchUp C SDK 기반 "외부 컨버터 CLI"로 .skp → .glb 직접 변환
SKETCHUP_CONVERTER=assimp

# SketchUp 앱 실행 파일 경로 (macOS)
# 예) /Applications/SketchUp 2025/SketchUp.app/Contents/MacOS/SketchUp
# .env에서는 역슬래시 이스케이프(\ )가 그대로 문자로 들어올 수 있으니 따옴표를 권장합니다.
SKETCHUP_APP_PATH="/Applications/SketchUp 2025/SketchUp.app/Contents/MacOS/SketchUp"

# (선택) SKETCHUP_CONVERTER=sdk 일 때만 필요: SketchUp C SDK 변환기(사용자 제공 CLI)
# - SKETCHUP_CSDK_BIN: 실행 파일 경로(또는 PATH의 커맨드명)
# - SKETCHUP_CSDK_DYLD_FRAMEWORK_PATH: (macOS) dyld가 SketchUpAPI.framework를 찾을 경로
# - SKETCHUP_CSDK_FORMAT: 중간 포맷 (obj|dae). 기본: obj
# - SKETCHUP_CSDK_ARGS_JSON: argv 배열(JSON). 기본 규약은 ["{input}", "{output}", "{format}"]
#   플레이스홀더:
#   - {input}: 업로드된 .skp 파일 경로
#   - {output}: 출력 디렉토리 (.../tmp/.../)
#   - {outDir}: 출력 디렉토리 (.../tmp/.../)
#   - {format}: obj|dae
SKETCHUP_CSDK_BIN=sketchup-csdk-converter
SKETCHUP_CSDK_DYLD_FRAMEWORK_PATH=/absolute/path/to/SDK_Mac_2026-1-184
SKETCHUP_CSDK_FORMAT=obj
SKETCHUP_CSDK_ARGS_JSON='["{input}","{output}","{format}"]'

# (중요) 내부 업로드 인증키: 로컬에서도 서버/워커가 동일 값을 써야 합니다.
SKETCHUP_INTERNAL_KEY=dev-sketchup-internal-key

# Redis (로컬)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379

# (선택) 원격 워커 모드에서만: 변환된 GLB를 업로드할 메인 서버 주소
# SKETCHUP_STORE_URL=http://localhost:5002
